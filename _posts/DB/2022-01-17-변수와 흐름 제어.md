---
layout: single
title: "Rookiss Part6 SQL ì›¹ì„œë²„ : ë³€ìˆ˜ì™€ íë¦„ ì œì–´"
categories: DB
tags: DB
author_profile: false
sidebar:
  nav: "docs"
---

## ğŸ™‡â€â™€ï¸ë³€ìˆ˜ì™€ íë¦„ ì œì–´

### ğŸªë³€ìˆ˜

**DECLATE**

```
DECLARE @i AS INT = 10;

DECLARE @J AS INT
SET @J = 10;
```

**ì˜ˆì œ**

* ì˜ˆì œ) ì—­ëŒ€ ìµœê³  ì—°ë´‰ì„ ë°›ì€ ì„ ìˆ˜ ì´ë¦„?
```
DECLARE @firstName AS NVARCHAR(15);
DECLARE @lastName AS NVARCHAR(15);

/*
SET @firstName = (SELECT TOP 1 *
					FROM players AS p
						INNER JOIN salaries AS S
						ON P.PLAYERID = S.playerID
					ORDER BY s.salary DESC)
*/

-- SQL SERVER
SELECT TOP 1 @firstName = p.nameFirst, @lastName = p.nameLast
FROM players AS p
	INNER JOIN salaries AS s
	ON p.playerID = s.playerID
ORDER BY s.salary DESC

SELECT @firstName, @lastName;
```

### ğŸªë°°ì¹˜(BATCH)

`GO`

* ë°°ì¹˜ë¥¼ ì´ìš©í•´ ë³€ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ ì„¤ì • ê°€ëŠ¥ { }
* ë°°ì¹˜ëŠ” í•˜ë‚˜ì˜ ë¬¶ìŒìœ¼ë¡œ ë¶„ì„ë˜ê³  ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì–´ ì§‘í•©

### ğŸªíë¦„ì œì–´

**IF**
```
GO
DECLARE @i AS INT = 10;

IF @i = 10
BEGIN
	PRINT('BINGO!')
	PRINT('BINGO!')
END
ELSE
BEGIN
	PRINT('NO')
END
```

**WHILE**

```
GO

DECLARE @i AS INT = 0;
WHILE @i <= 10
BEGIN
	PRINT @i;
	SET @i = @i + 1;
	IF @i = 6 BREAK;
END


GO

DECLARE @i AS INT = 0;
WHILE @i <= 10
BEGIN
	SET @i = @i + 1;
	IF @i = 6 CONTINUE;
	PRINT @i;
END
```

### ğŸªí…Œì´ë¸” ë³€ìˆ˜

* ì„ì‹œë¡œ ì‚¬ìš©í•  í…Œì´ë¸”ì„ ë³€ìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤!
* testA, testB ë§Œë“¤ê³  ì‚­ì œ -> NO!
* DECLAREë¥¼ ì‚¬ìš© -> tempdb ë°ì´í„°ë² ì´ìŠ¤ì— ì„ì‹œ ì €ì¥

```
GO

DECLARE @test TABLE
(
	name VARCHAR(50) NOT NULL,
	salary INT NOT NULL
);

INSERT INTO @test
SELECT p.nameFirst + ' ' + p.nameLast, s.salary
FROM players AS p
	INNER JOIN salaries AS s
	ON p.playerID = s.playerID;

SELECT *
FROM @test
```
