---
title: "C++ Rookiss Part2 κ²μ„ μν•™κ³Ό DirectX12 : DirectX3Dμ μ΄κΈ°ν™”"

categories:
  - DirectX12
tags:
  - DirectX12

author_profile: false

sidebar:
  nav: "docs"

date: 2022-07-18
last_modified_at: 2022-07-18
---

<br>


## π™‡β€β™€οΈDirectX3Dμ μ΄κΈ°ν™”

1. 3μ°¨μ› κ·Έλν”½ ν•λ“μ›¨μ–΄μ ν”„λ΅κ·Έλλ°μ—μ„ Direct3Dμ μ—­ν• μ„ κ°κ΄„μ μΌλ΅ μ΄ν•΄
2. Direct3Dμ—μ„ COMμ μ—­ν• μ„ μ΄ν•΄
3. 2μ°¨μ› μ΄λ―Έμ§€μ μ €μ¥ λ°©μ‹, νμ΄μ§€ μ „ν™, κΉμ΄ λ²„νΌλ§, λ‹¤μ¤‘ν‘λ³Έν™ κ°™μ€ κΈ°μ΄ κ·Έλν”½ κ°λ… λ°°μ°κΈ°
4. μ„±λ¥ μΉ΄μ΄ν„° ν•¨μλ“¤μ„ μ΄μ©ν•΄μ„ κ³ ν•΄μƒλ„ νƒ€μ΄λ¨Έ κ°’μ„ μ–»λ” λ°©λ²• λ°°μ°κΈ°
5. Direct3Dλ¥Ό μ΄κΈ°ν™”ν•λ” λ°©λ²•μ„ νμ•…
6. μ΄ μ±…μ λ¨λ“  μμ  ν”„λ΅κ·Έλ¨μ΄ μ‚¬μ©ν•λ” μ‘μ© ν”„λ΅κ·Έλ¨ ν”„λ μ„μ›ν¬μ μ „λ°μ μΈ κµ¬μ΅°λ¥Ό μ™μ§€

<br>


### πκΈ°λ³Έ μ§€μ‹

<br>

#### πDirect3D

Direct3Dλ” μ‘μ© ν”„λ΅κ·Έλ¨μ—μ„ GPUλ¥Ό μ μ–΄ν•κ³  ν”„λ΅κ·Έλλ°ν•λ” λ° μ“°μ΄λ” μ €μμ¤€ κ·Έλν”½ APIμ΄λ‹¤.


<br>


#### πCOM

COM (Component Object Model)μ€ DirectXμ ν”„λ΅κ·Έλλ° μ–Έμ–΄ λ…λ¦½μ„±κ³Ό ν•μ„ νΈν™μ„±μ„ κ°€λ¥ν•κ² ν•λ” κΈ°μ μ΄λ‹¤.

μ΄ μ±…μ—μ„ μ‚¬μ©ν•λ” λ§¤μ„λ“

1. Get : λ°”νƒ• COM μΈν„°νμ΄μ¤λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ¥Ό λλ ¤μ¤€λ‹¤. ν•΄λ‹Ή COM μΈν„°νμ΄μ¤ ν¬μΈν„° ν•μ‹μ μΈμλ¥Ό λ°›λ” ν•¨μλ¥Ό νΈμ¶ν•  λ• ν”ν μ“°μΈλ‹¤. μλ¥Ό λ“¤λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

```
ComPtr<ID3D12RootSignature> mRootSignature;
...
// SetGraphicsRootSignatureλ” ID3D12RootSignature* ν•μ‹μ μΈμλ¥Ό λ°›λ”λ‹¤
mCommandList->SetGraphicsRootSignature(mRootSignature.Get());
```

2. GetAddressOf : λ°”νƒ• COM μΈν„°νμ΄μ¤λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°μ μ£Όμ†λ¥Ό λλ ¤μ¤€λ‹¤. ν•¨μ λ§¤κ°λ³€μλ¥Ό ν†µν•΄μ„ COM μΈν„°νμ΄μ¤ ν¬μΈν„°λ¥Ό λλ ¤λ°›μ„ λ• ν”ν μ“°μΈλ‹¤. μλ¥Ό λ“¤λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

```
ComPtr<ID3D12CommandAllocator> mDirectCmdListAlloc;
...
ThrowIfFailed(md3dDevice->CreateCommandAllocator(
    D3D12_COMMAND_LIST_TYPE_DIRECT,
    mDirectCmdListAlloc.GetAddressOf()));
```

3. Reset : ComPtr μΈμ¤ν„΄μ¤λ¥Ό nullptrλ΅ μ„¤μ •ν•κ³  λ°”νƒ• COM μΈν„°νμ΄μ¤μ μ°Έμ΅° νμλ¥Ό 1 κ°μ†ν•λ‹¤. μ΄ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” λ€μ‹  ComPtr μΈμ¤ν„΄μ¤μ— μ§μ ‘ nullptrλ¥Ό λ°°μ •ν•΄λ„ λλ‹¤ (μ—­μ‹ μ°Έμ΅° νμκ°€ κ°μ†ν•λ‹¤)

**μ°Έκ³  : COM μΈν„°νμ΄μ¤λ“¤μ€ μ΄λ¦„μ΄ λ€λ¬Έμ Iλ΅ μ‹μ‘ν•λ‹¤.**


<br>


#### πν…μ¤μ² ν•μ‹

