---
title: "C++ Rookiss Part2 ê²Œì„ ìˆ˜í•™ê³¼ DirectX12 : Matrix"

categories:
  - DirectX12
tags:
  - DirectX12

author_profile: false

sidebar:
  nav: "docs"

date: 2022-07-11
last_modified_at: 2022-07-11
---

<br>


## ğŸ™‡â€â™€ï¸Matrix


<br>


### ğŸªMatrix

M x N í–‰ë ¬ì€ Mê°œì˜ í–‰ê³¼ Nê°œì˜ ì—´ë¡œ ì´ë£¨ì–´ì§„ ì‹¤ìˆ˜ë“¤ì˜ ì •ì‚¬ê° ë°°ì—´ì´ë‹¤. í–‰ê³¼ ì—´ë¡œ ì´ë£¨ì–´ì§€ê³  êµ¬ì„±í•˜ëŠ” ìˆ˜ë“¤ì„ ì„±ë¶„ ë˜ëŠ” ì›ì†Œë¼ê³  ë¶€ë¥¸ë‹¤. 

<br>

* í–‰ë ¬ ê³±ì…ˆ

M x N í–‰ë ¬ A, N x P í–‰ë ¬ Bê°€ ìˆìœ¼ë©´ ë‘˜ì˜ ê³± ABê°€ ì •ì˜ëœë‹¤.
ê³± ABëŠ” í•˜ë‚˜ì˜ M x Pí–‰ë ¬ì´ë‹¤.

`Cij = Ai* x B*j`

```
A = 
[
    -1  5 -4
     3  2  1
]

B = 
[
     2  1  0
     0 -2  1
    -1  2  3
]

AB = 
[
    (-1,5,-4)*(2,0,-1) (-1,5,-4)*(1,-2,2) (-1,5,-4)*(0,1,3)
    (3,2,1)*(2,0,-1) (3,2,1)*(1,-2,2) (3,2,1)*(0,1,3)
]
=
[
    2 -19 7
    5  1  5
]
```

<br>

* ë²¡í„°ì™€ í–‰ë ¬ì˜ ê³±ì…‰

uA = xA1* + yA2* + z A3* ...

<br>

* ì „ì¹˜í–‰ë ¬

M x N í–‰ë ¬ì˜ ì „ì¹˜ëŠ” N x Mì´ë‹¤. í–‰ë ¬ Mì˜ ì „ì¹˜í–‰ë ¬ì„ M^Të¡œ í‘œê¸°í•œë‹¤.

<br>

* ë‹¨ìœ„í–‰ë ¬
    - ì •ì‚¬ê°í˜•ì˜ í–‰ë ¬ : ì •ë°©í–‰ë ¬
    - ì •ë°©í–‰ë ¬ì—ì„œ ì¢Œìƒì—ì„œ ìš°í•˜ë¡œì˜ ì£¼ëœ ëŒ€ê°ì„ ì— ìˆëŠ” ì„±ë¶„ë“¤ : ì£¼ëŒ€ê°
    - ì£¼ëŒ€ê° ì„±ë¶„ë“¤ë§Œ 1ì´ê³  ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ 0ì¸ ì •ë°©í–‰ë ¬ : ë‹¨ìœ„í–‰ë ¬

`A = M x N, B = N x P, I = N x Nì´ë©´ AI = A ì´ê³  IB = B`

Mì´ ì •ë°©í–‰ë ¬ì¼ ë•Œ ë‹¨ìœ„í–‰ë ¬ê³¼ì˜ ê³±ì…ˆì€ êµí™˜ë²•ì¹™ ë§Œì¡±

`MI = IM = M`

<br>

* í–‰ë ¬ì‹

í–‰ë ¬ì‹ : ì •ë°©í–‰ë ¬ì„ ì…ë ¥ë°›ì•„ì„œ ì‹¤ìˆ«ê°’ì„ ì¶œë ¥í•˜ëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜

ì •ë°©í–‰ë ¬ Aì˜ í–‰ë ¬ì‹ = det A

```
A =
[
    A11 A12 A13
    A21 A22 A23
    A31 A32 A33
]

ì†Œí–‰ë ¬ A11 =
[
    A22 A23
    A32 A33
]

ì†Œí–‰ë ¬ A22 =
[
    A11 A13
    A31 A33
]

ì†Œí–‰ë ¬ A13 = 
[
    A21 A22
    A31 A32
]
```

í–‰ë ¬ì‹

![image](https://user-images.githubusercontent.com/86364202/178194688-5570d826-e2c1-47e4-9a1a-7e552e726888.png)

<br>

* ë”¸ë¦¼í–‰ë ¬

Aê°€ N x N í–‰ë ¬ì´ë¼ê³  í•  ë•Œ, Cij = (-1)^(i+j) detì†Œí–‰ë ¬Aijë¥¼ Aijì˜ ì—¬ì¸ìˆ˜ë¼ê³  ë¶€ë¥¸ë‹¤.

ê° ì„±ë¶„ì˜ Cijë¥¼ ê³„ì‚°í•´ì„œ ijë²ˆì§¸ ìœ„ì¹˜ì— ë°°ì¹˜í•œ CAí–‰ë ¬ì„ í–‰ë ¬Aì˜ ì—¬ì¸ìˆ˜í–‰ë ¬ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

CAì˜ ì „ì¹˜í–‰ë ¬ì„ Aì˜ ë”¸ë¦¼í–‰ë ¬ì´ë¼ê³  ë¶€ë¥´ê³ 

A* = CA^Të¡œ í‘œí˜„í•œë‹¤.

<br>

* ì—­í–‰ë ¬

A^-1 = A* / det A

ì—­í–‰ë ¬ = ë”¸ë¦¼í–‰ë ¬ / í–‰ë ¬ì‹

<br>

* ì „ì¹˜ í–‰ë ¬ í•¨ìˆ˜ ë§Œë“¤ê¸°

```cpp
#include <iostream>
using namespace std;
#include <vector>

//vector<vector<int>> matrix;

vector<vector<int>> CreateMatrix(int m, int n)
{
	vector<vector<int>> matrix/*(m, vector<int>(n))*/;
	vector<int> arr;

	int input;
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> input;
			arr.push_back(input);
		}
		matrix.push_back(arr);
		arr.clear();
	}

	return matrix;
}

void PrintMatrix(vector<vector<int>> matrix)
{
	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
			cout << matrix[i][j] << " ";
		cout << endl;
	}
}

vector<vector<int>> CreateTransposition(vector<vector<int>> matrix) // ì „ì¹˜ í–‰ë ¬ ë§Œë“¤ê¸°
{
	vector<vector<int>> TransMatrix;
	vector<int> arr;

	for (int i = 0; i < matrix[0].size(); i++) // ì—´ì˜ ìˆ˜
	{
		for (int j = 0; j < matrix.size(); j++) // í–‰ì˜ ìˆ˜
		{
			arr.push_back(matrix[j][i]);
		}
		TransMatrix.push_back(arr);
		arr.clear();
	}

	return TransMatrix;
}

int main()
{
	int m, n;
	cout << "M x Ní–‰ë ¬ì„ ë§Œë“¤ê¸° ìœ„í•œ Mê³¼ Nì„ ì…ë ¥í•˜ì„¸ìš” " << endl;
	cout << "M :";
	cin >> m;
	cout << "N :";
	cin >> n;

	auto matrix = CreateMatrix(m, n);
	PrintMatrix(matrix);

	auto transMatrix = CreateTransposition(matrix);
	PrintMatrix(transMatrix);

}
```

* í–‰ë ¬ì‹ê³¼ ì—­í–‰ë ¬ í•¨ìˆ˜ í¬í•¨ í”„ë¡œê·¸ë¨

```cpp
#include <iostream>
using namespace std;
#include <vector>

//vector<vector<int>> matrix;

vector<vector<double>> CreateMatrix(int m, int n)
{
	vector<vector<double>> matrix/*(m, vector<int>(n))*/;
	vector<double> arr;

	int input;
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> input;
			arr.push_back(input);
		}
		matrix.push_back(arr);
		arr.clear();
	}

	return matrix;
}

void PrintMatrix(vector<vector<double>> matrix)
{
	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
			cout << round(matrix[i][j] * 100 + 0.5) / 100 << " ";
		cout << endl;
	}
}

vector<vector<double>> CreateTransposition(vector<vector<double>> matrix)
{
	vector<vector<double>> TransMatrix;
	vector<double> arr;

	for (int i = 0; i < matrix[0].size(); i++) // ì—´ì˜ ìˆ˜
	{
		for (int j = 0; j < matrix.size(); j++) // í–‰ì˜ ìˆ˜
		{
			arr.push_back(matrix[j][i]);
		}
		TransMatrix.push_back(arr);
		arr.clear();
	}

	return TransMatrix;
}

vector<vector<double>> littleMatrix(vector<vector<double>> matrix, int line, int row)
{
	vector<vector<double>> ret;
	vector<double> arr;

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			if (i == line || j == row)
				continue;
			arr.push_back(matrix[i][j]);
		}
		if (arr.size() == 0)
			continue;
		ret.push_back(arr);
		arr.clear();
	}
	
	return ret;
}

double determinant2By2(vector<vector<double>> matrix)
{
	return (matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0]);
}

double determinant3By3(vector<vector<double>> matrix)
{
	double ret =
		matrix[0][0] * determinant2By2(littleMatrix(matrix, 0, 0))
		- matrix[0][1] * determinant2By2(littleMatrix(matrix, 0, 1))
		+ matrix[0][2] * determinant2By2(littleMatrix(matrix, 0, 2));

	return ret;
}

double determinant4By4(vector<vector<double>> matrix)
{
	double ret =
		matrix[0][0] * determinant3By3(littleMatrix(matrix, 0, 0))
		- matrix[0][1] * determinant3By3(littleMatrix(matrix, 0, 1))
		+ matrix[0][2] * determinant3By3(littleMatrix(matrix, 0, 2))
		- matrix[0][3] * determinant3By3(littleMatrix(matrix, 0, 3));

	return ret;
}

vector<vector<double>> InverseMatrix(vector<vector<double>> matrix)
{
	vector<vector<double>> invMat;
	vector<double> arr;

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			if((i + j) % 2 == 0)
				arr.push_back(determinant3By3(littleMatrix(matrix, i, j)));
			else
				arr.push_back(-determinant3By3(littleMatrix(matrix, i, j)));
		}

		if (arr.size() == 0)
			continue;

		invMat.push_back(arr);
		arr.clear();
	}
	auto temp = CreateTransposition(invMat);
	invMat.clear();

	int det4 = determinant4By4(matrix);

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			arr.push_back(temp[i][j] / det4);
		}

		if (arr.size() == 0)
			continue;

		invMat.push_back(arr);
		arr.clear();
	}

	return invMat;
}

int main()
{
	/*int m, n;
	cout << "M x Ní–‰ë ¬ì„ ë§Œë“¤ê¸° ìœ„í•œ Mê³¼ Nì„ ì…ë ¥í•˜ì„¸ìš” " << endl;
	cout << "M :";
	cin >> m;
	cout << "N :";
	cin >> n;

	auto matrix = CreateMatrix(m, n);
	PrintMatrix(matrix);

	auto transMatrix = CreateTransposition(matrix);
	PrintMatrix(transMatrix);*/

	vector < vector<double>> matrix4By4 =
	{
		{1, 2, 3, 4},
		{5, 8, 7, 8},
		{9, 10, 9, 12},
		{13, 14, 15, 16}
	};

	auto lMat = littleMatrix(matrix4By4, 0, 1);
	//PrintMatrix(lMat);

	double det4 = determinant4By4(matrix4By4);
	cout << det4 << endl;;

	auto mat4 = InverseMatrix(matrix4By4);
	PrintMatrix(mat4);

}
```