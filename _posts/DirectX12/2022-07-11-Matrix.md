---
title: "C++ Rookiss Part2 ê²Œì„ ìˆ˜í•™ê³¼ DirectX12 : Matrix"

categories:
  - DirectX12
tags:
  - DirectX12

author_profile: false

sidebar:
  nav: "docs"

date: 2022-07-11
last_modified_at: 2022-07-11
---

<br>


## ğŸ™‡â€â™€ï¸Matrix


<br>


### ğŸªMatrix

$M * N$ í–‰ë ¬ì€ Mê°œì˜ í–‰ê³¼ Nê°œì˜ ì—´ë¡œ ì´ë£¨ì–´ì§„ ì‹¤ìˆ˜ë“¤ì˜ ì •ì‚¬ê° ë°°ì—´ì´ë‹¤. í–‰ê³¼ ì—´ë¡œ ì´ë£¨ì–´ì§€ê³  êµ¬ì„±í•˜ëŠ” ìˆ˜ë“¤ì„ ì„±ë¶„ ë˜ëŠ” ì›ì†Œë¼ê³  ë¶€ë¥¸ë‹¤. 

<br>

* í–‰ë ¬ ê³±ì…ˆ

$M * N$ í–‰ë ¬ $A$, $N * P$ í–‰ë ¬ $B$ê°€ ìˆìœ¼ë©´ ë‘˜ì˜ ê³± $AB$ê°€ ì •ì˜ëœë‹¤.
ê³± $AB$ëŠ” í•˜ë‚˜ì˜ $M * P$ í–‰ë ¬ì´ë‹¤.

$C_{ij} = A_{i}* * B*_{j}$

$A = \begin{bmatrix}-1&5&-4\\ 3&2&1 \end{bmatrix}$

$B = \begin{bmatrix}2&1&0\\ 0&-2&1 \\ -1&2&3 \end{bmatrix}$

$AB = \begin{bmatrix}(-1,5,-4)*(2,0,-1)&(-1,5,-4)*(1,-2,2)&(-1,5,-4)*(0,1,3)\\ (3,2,1)*(2,0,-1)&(3,2,1)*(1,-2,2)&(3,2,1)*(0,1,3) \end{bmatrix} \\ =  \begin{bmatrix}2&-19&7\\ 5&1&5  \end{bmatrix}$



<br>

* ë²¡í„°ì™€ í–‰ë ¬ì˜ ê³±ì…‰

$uA = xA1* + yA2* + z A3* ...$

<br>

* ì „ì¹˜í–‰ë ¬

$M * N$ í–‰ë ¬ì˜ ì „ì¹˜ëŠ” $N * M$ì´ë‹¤. í–‰ë ¬ $M$ì˜ ì „ì¹˜í–‰ë ¬ì„ $M^T$ë¡œ í‘œê¸°í•œë‹¤.

<br>

* ë‹¨ìœ„í–‰ë ¬
    - ì •ì‚¬ê°í˜•ì˜ í–‰ë ¬ : ì •ë°©í–‰ë ¬
    - ì •ë°©í–‰ë ¬ì—ì„œ ì¢Œìƒì—ì„œ ìš°í•˜ë¡œì˜ ì£¼ëœ ëŒ€ê°ì„ ì— ìˆëŠ” ì„±ë¶„ë“¤ : ì£¼ëŒ€ê°
    - ì£¼ëŒ€ê° ì„±ë¶„ë“¤ë§Œ 1ì´ê³  ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ 0ì¸ ì •ë°©í–‰ë ¬ : ë‹¨ìœ„í–‰ë ¬

$A = M * N, B = N * P, I = N * Nì´ë©´ AI = A ì´ê³  IB = B$

Mì´ ì •ë°©í–‰ë ¬ì¼ ë•Œ ë‹¨ìœ„í–‰ë ¬ê³¼ì˜ ê³±ì…ˆì€ êµí™˜ë²•ì¹™ ë§Œì¡±

$MI = IM = M$

<br>

* í–‰ë ¬ì‹

í–‰ë ¬ì‹ : ì •ë°©í–‰ë ¬ì„ ì…ë ¥ë°›ì•„ì„œ ì‹¤ìˆ«ê°’ì„ ì¶œë ¥í•˜ëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜

$ì •ë°©í–‰ë ¬ Aì˜ í–‰ë ¬ì‹ = det A$

$A = \begin{bmatrix}A11&A12&A13\\ A21&A22&A23 \\ A31&A32&A33 \end{bmatrix}$

$ì†Œí–‰ë ¬A11 = \begin{bmatrix}A22&A23\\ A32&A33 \end{bmatrix}$

$ì†Œí–‰ë ¬A22 = \begin{bmatrix}A11&A13\\ A31&A33 \end{bmatrix}$

$ì†Œí–‰ë ¬A13 = \begin{bmatrix}A21&A22\\ A31&A32 \end{bmatrix}$

í–‰ë ¬ì‹

![image](https://user-images.githubusercontent.com/86364202/178194688-5570d826-e2c1-47e4-9a1a-7e552e726888.png)

<br>

* ë”¸ë¦¼í–‰ë ¬

Aê°€ $N * N$ í–‰ë ¬ì´ë¼ê³  í•  ë•Œ, $C_{ij} = (-1)^(i+j) detì†Œí–‰ë ¬A_{ij}$ë¥¼ $A_{ij}$ì˜ ì—¬ì¸ìˆ˜ë¼ê³  ë¶€ë¥¸ë‹¤.

ê° ì„±ë¶„ì˜ $C_{ij}$ë¥¼ ê³„ì‚°í•´ì„œ $ij$ë²ˆì§¸ ìœ„ì¹˜ì— ë°°ì¹˜í•œ $C_{A}$í–‰ë ¬ì„ í–‰ë ¬$A$ì˜ ì—¬ì¸ìˆ˜í–‰ë ¬ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

$C_{A}$ì˜ ì „ì¹˜í–‰ë ¬ì„ $A$ì˜ ë”¸ë¦¼í–‰ë ¬ì´ë¼ê³  ë¶€ë¥´ê³ 

$A* = C_{A}^T$ë¡œ í‘œí˜„í•œë‹¤.

<br>

* ì—­í–‰ë ¬

$A^{-1} = A* / det A$

ì—­í–‰ë ¬ = ë”¸ë¦¼í–‰ë ¬ / í–‰ë ¬ì‹

<br>

* ì „ì¹˜ í–‰ë ¬ í•¨ìˆ˜ ë§Œë“¤ê¸°

```cpp
#include <iostream>
using namespace std;
#include <vector>

//vector<vector<int>> matrix;

vector<vector<int>> CreateMatrix(int m, int n)
{
	vector<vector<int>> matrix/*(m, vector<int>(n))*/;
	vector<int> arr;

	int input;
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> input;
			arr.push_back(input);
		}
		matrix.push_back(arr);
		arr.clear();
	}

	return matrix;
}

void PrintMatrix(vector<vector<int>> matrix)
{
	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
			cout << matrix[i][j] << " ";
		cout << endl;
	}
}

vector<vector<int>> CreateTransposition(vector<vector<int>> matrix) // ì „ì¹˜ í–‰ë ¬ ë§Œë“¤ê¸°
{
	vector<vector<int>> TransMatrix;
	vector<int> arr;

	for (int i = 0; i < matrix[0].size(); i++) // ì—´ì˜ ìˆ˜
	{
		for (int j = 0; j < matrix.size(); j++) // í–‰ì˜ ìˆ˜
		{
			arr.push_back(matrix[j][i]);
		}
		TransMatrix.push_back(arr);
		arr.clear();
	}

	return TransMatrix;
}

int main()
{
	int m, n;
	cout << "M x Ní–‰ë ¬ì„ ë§Œë“¤ê¸° ìœ„í•œ Mê³¼ Nì„ ì…ë ¥í•˜ì„¸ìš” " << endl;
	cout << "M :";
	cin >> m;
	cout << "N :";
	cin >> n;

	auto matrix = CreateMatrix(m, n);
	PrintMatrix(matrix);

	auto transMatrix = CreateTransposition(matrix);
	PrintMatrix(transMatrix);

}
```

* í–‰ë ¬ì‹ê³¼ ì—­í–‰ë ¬ í•¨ìˆ˜ í¬í•¨ í”„ë¡œê·¸ë¨

```cpp
#include <iostream>
using namespace std;
#include <vector>

//vector<vector<int>> matrix;

vector<vector<double>> CreateMatrix(int m, int n)
{
	vector<vector<double>> matrix/*(m, vector<int>(n))*/;
	vector<double> arr;

	int input;
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> input;
			arr.push_back(input);
		}
		matrix.push_back(arr);
		arr.clear();
	}

	return matrix;
}

void PrintMatrix(vector<vector<double>> matrix)
{
	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
			cout << round(matrix[i][j] * 100 + 0.5) / 100 << " ";
		cout << endl;
	}
}

vector<vector<double>> CreateTransposition(vector<vector<double>> matrix)
{
	vector<vector<double>> TransMatrix;
	vector<double> arr;

	for (int i = 0; i < matrix[0].size(); i++) // ì—´ì˜ ìˆ˜
	{
		for (int j = 0; j < matrix.size(); j++) // í–‰ì˜ ìˆ˜
		{
			arr.push_back(matrix[j][i]);
		}
		TransMatrix.push_back(arr);
		arr.clear();
	}

	return TransMatrix;
}

vector<vector<double>> littleMatrix(vector<vector<double>> matrix, int line, int row)
{
	vector<vector<double>> ret;
	vector<double> arr;

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			if (i == line || j == row)
				continue;
			arr.push_back(matrix[i][j]);
		}
		if (arr.size() == 0)
			continue;
		ret.push_back(arr);
		arr.clear();
	}
	
	return ret;
}

double determinant2By2(vector<vector<double>> matrix)
{
	return (matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0]);
}

double determinant3By3(vector<vector<double>> matrix)
{
	double ret =
		matrix[0][0] * determinant2By2(littleMatrix(matrix, 0, 0))
		- matrix[0][1] * determinant2By2(littleMatrix(matrix, 0, 1))
		+ matrix[0][2] * determinant2By2(littleMatrix(matrix, 0, 2));

	return ret;
}

double determinant4By4(vector<vector<double>> matrix)
{
	double ret =
		matrix[0][0] * determinant3By3(littleMatrix(matrix, 0, 0))
		- matrix[0][1] * determinant3By3(littleMatrix(matrix, 0, 1))
		+ matrix[0][2] * determinant3By3(littleMatrix(matrix, 0, 2))
		- matrix[0][3] * determinant3By3(littleMatrix(matrix, 0, 3));

	return ret;
}

vector<vector<double>> InverseMatrix(vector<vector<double>> matrix)
{
	vector<vector<double>> invMat;
	vector<double> arr;

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			if((i + j) % 2 == 0)
				arr.push_back(determinant3By3(littleMatrix(matrix, i, j)));
			else
				arr.push_back(-determinant3By3(littleMatrix(matrix, i, j)));
		}

		if (arr.size() == 0)
			continue;

		invMat.push_back(arr);
		arr.clear();
	}
	auto temp = CreateTransposition(invMat);
	invMat.clear();

	int det4 = determinant4By4(matrix);

	for (int i = 0; i < matrix.size(); i++)
	{
		for (int j = 0; j < matrix[0].size(); j++)
		{
			arr.push_back(temp[i][j] / det4);
		}

		if (arr.size() == 0)
			continue;

		invMat.push_back(arr);
		arr.clear();
	}

	return invMat;
}

int main()
{
	/*int m, n;
	cout << "M x Ní–‰ë ¬ì„ ë§Œë“¤ê¸° ìœ„í•œ Mê³¼ Nì„ ì…ë ¥í•˜ì„¸ìš” " << endl;
	cout << "M :";
	cin >> m;
	cout << "N :";
	cin >> n;

	auto matrix = CreateMatrix(m, n);
	PrintMatrix(matrix);

	auto transMatrix = CreateTransposition(matrix);
	PrintMatrix(transMatrix);*/

	vector < vector<double>> matrix4By4 =
	{
		{1, 2, 3, 4},
		{5, 8, 7, 8},
		{9, 10, 9, 12},
		{13, 14, 15, 16}
	};

	auto lMat = littleMatrix(matrix4By4, 0, 1);
	//PrintMatrix(lMat);

	double det4 = determinant4By4(matrix4By4);
	cout << det4 << endl;;

	auto mat4 = InverseMatrix(matrix4By4);
	PrintMatrix(mat4);

}
```