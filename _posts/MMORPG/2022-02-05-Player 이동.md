---
layout: single
title: "Player ì´ë™"
categories: MMORPG
tags: MMORPG
author_profile: false
sidebar:
  nav: "docs"
---


## ğŸ™‡â€â™€ï¸Player ì´ë™


player ì´ë™ì„ `if(Input.GetKey.W) //transform.position += Vector3.up * Time.deltaTime * _speed;`ë¡œ í•˜ë©´ ë‹¤ë¥¸ ê°ì²´ê°€ ì›€ì§ì¼ ë•Œ ì–´ë ¤ì›€ì´ ìƒê¸´ë‹¤

ì´ë ‡ê²Œ í•˜ì§€ë§ë˜ ì…ë ¥ê³¼ ì›€ì§ì„ì„ í•œì½”ë“œì— ë„£ìœ¼ë©´ ì•ˆë˜ëŠ” ë“¯ í•¨



### ğŸªPlayer ì´ë™


`Define`ì— `public enum MoveDir`ë¡œ ì´ë™ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚˜ê²Œ ë§Œë“¤ì–´ ì¤Œ

ìš°ë¦¬ê°€ ë§Œë“œëŠ” ê²ƒì€ ì…€ë‹¨ìœ„ë¡œ ì´ë™ì´ë¯€ë¡œ gridë¥¼ ê°€ì ¸ì™€ì•¼ ë¨

ì…€ì¢Œí‘œì™€ ê·¸ë¦¬ë“œì— ë§ê²Œ ì„¤ì • í•´ì¤˜ì•¼ ë¨


**í‚¤ë³´ë“œ ì…ë ¥ì— ë”°ë¥¸ ìƒíƒœ ë³€í™” í•¨ìˆ˜**
```cs
// í‚¤ë³´ë“œ ì…ë ¥
void GetDirInput()
{
    if (Input.GetKey(KeyCode.W))
    {
        _dir = MoveDir.Up;
    }
    else if (Input.GetKey(KeyCode.S))
    {
        _dir = MoveDir.Down;
    }
    else if (Input.GetKey(KeyCode.A))
    {
        _dir = MoveDir.Left;
    }
    else if (Input.GetKey(KeyCode.D))
    {
        _dir = MoveDir.Right;
    }
    else
    {
        _dir = MoveDir.None;
    }
}
```


**ë°©í–¥ë²¡í„°ë¥¼ êµ¬í•´ì„œ ì‹¤ì œ ì´ë™ ì¤‘ì´ë©´ ìŠ¤ë¥´ë¥µ ì´ë™í•˜ê²Œí•˜ëŠ” í•¨ìˆ˜**
```cs
// ìŠ¤ë¥´ë¥µ ì´ë™ ì²˜ë¦¬
void UpdatePosition()
{
    if (_isMoving == false)
        return;

    Vector3 desPos = _grid.CellToWorld(_cellPos) + new Vector3(0.5f, 0.5f);
    Vector3 moveDir = desPos - transform.position;

    // ë„ì°© ì—¬ë¶€ ì²´í¬
    float dist = moveDir.magnitude;
    if (dist < _speed * Time.deltaTime)
    {
        transform.position = desPos;
        _isMoving = false;
    }
    else
    {
        transform.position += moveDir.normalized * Time.deltaTime * _speed;
        _isMoving = true;
    }
}
```
ì´ í•¨ìˆ˜ì—ì„œ
`Vector3 desPos = _grid.CellToWorld(_cellPos) + new Vector3(0.5f, 0.5f);`
`Vector3 moveDir = desPos - transform.position;`
ì´ ë¶€ë¶„ì´ ì…€ì¢Œí‘œì™€ ê·¸ë¦¬ë“œë¥¼ ë§ì¶°ì£¼ê³ ìˆê³  ë°©í–¥ë²¡í„°ë¥¼ êµ¬í•œë‹¤

ê·¸ ë°‘ì— ë„ì°© ì—¬ë¶€ ì²´í¬ì—ì„œëŠ” ë°©í–¥ë²¡í„°ì˜ í¬ê¸° ì¦, ê±°ë¦¬ë¥¼ êµ¬í•´ì„œ ì¼ì • ì´ìƒì˜ ì†ë„ê°€ ë‚˜ì˜¤ë©´ ì‹¤ì œë¡œ ìŠ¤ë¥´ë¥µ ì´ë™í•˜ê²Œ ë§Œë“ ë‹¤

**ì‹¤ì œ ì´ë™**
```cs
// ì´ë™ ê°€ëŠ¥í•œ ìƒíƒœì¼ ë•Œ, ì‹¤ì œ ì¢Œí‘œë¥¼ ì´ë™í•œë‹¤
void UpdateIsMoving()
{
    if (_isMoving == false)
    {
        switch (_dir)
        {
            case MoveDir.Up:
                _cellPos += Vector3Int.up;
                _isMoving = true;
                break;
            case MoveDir.Down:
                _cellPos += Vector3Int.down;
                _isMoving = true;
                break;
            case MoveDir.Left:
                _cellPos += Vector3Int.left;
                _isMoving = true;
                break;
            case MoveDir.Right:
                _cellPos += Vector3Int.right;
                _isMoving = true;
                break;
        }
    }
}
```






