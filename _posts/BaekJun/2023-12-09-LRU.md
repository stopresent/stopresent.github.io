---
title: "it ì·¨ì—…ì„ ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ì…ë¬¸ : 37. Least Recently Used(ì¹´ì¹´ì˜¤ ìºì‹œ ë¬¸ì œ ë³€í˜•)"

categories:
  - BaekJun
tags:
  - BaekJun

author_profile: false

sidebar:
  nav: "docs"

date: 2023-12-09
last_modified_at: 2022-12-09
---

# ğŸ™‡â€â™€ï¸Least Recently Used(ì¹´ì¹´ì˜¤ ìºì‹œ ë¬¸ì œ ë³€í˜•)

ìºì‹œë©”ëª¨ë¦¬ëŠ” CPUì™€ ì£¼ê¸°ì–µì¥ì¹˜(DRAM) ì‚¬ì´ì˜ ê³ ì†ì˜ ì„ì‹œ ë©”ëª¨ë¦¬ë¡œì„œ CPUê°€ ì²˜ë¦¬í•  ì‘ì—…ì„ ì €ì¥í•´ ë†“ì•˜ë‹¤ê°€ í•„ìš”í•  ë°”ë¡œ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬ì†ë„ë¥¼ ë†’ì´ëŠ” ì¥ì¹˜ì´ë‹¤.  
ì›Œë‚™ ë¹„ì‹¸ê³  ìš©ëŸ‰ì´ ì‘ì•„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  
ì² ìˆ˜ì˜ ì»´í“¨í„°ëŠ” ìºì‹œë©”ëª¨ë¦¬ ì‚¬ìš© ê·œì¹™ì´ LRU ì•Œê³ ë¦¬ì¦˜ì„ ë”°ë¥¸ë‹¤.  
LRU ì•Œê³ ë¦¬ì¦˜ì€ Least Recently Used ì˜ ì•½ìë¡œ ì§ì—­í•˜ìë©´ ê°€ì¥ ìµœê·¼ì— ì‚¬ìš©ë˜ì§€ ì•Šì€ ê²ƒ ì •ë„ì˜ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.  
ìºì‹œì—ì„œ ì‘ì—…ì„ ì œê±°í•  ë•Œ ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²ƒì„ ì œê±°í•˜ê² ë‹¤ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.  
ë§Œì•½ ìºì‹œì˜ ì‚¬ì´ì¦ˆê°€ 5ì´ê³  ì‘ì—…ì´ 2 3 1 6 7 ìˆœìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤ë©´, (ë§¨ ì•ì´ ê°€ì¥ ìµœê·¼ì— ì“°ì¸ ì‘ì—…ì´ê³ , ë§¨ ë’¤ëŠ” ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì“°ì´ì§€ ì•Šì€ ì‘ì—…ì´ë‹¤.)

1) Cache Miss : í•´ì•¼í•  ì‘ì—…ì´ ìºì‹œì— ì—†ëŠ” ìƒíƒœë¡œ ìœ„ ìƒíƒœì—ì„œ ë§Œì•½ ìƒˆë¡œìš´ ì‘ì—…ì¸ 5ë²ˆ ì‘ì—…ì„ CPUê°€ ì‚¬ìš©í•œë‹¤ë©´ Cache missê°€ ë˜ê³  ëª¨ë“  ì‘ì—…ì´ ë’¤ë¡œ ë°€ë¦¬ê³  5ë²ˆì‘ì—…ì€ ìºì‹œì˜ ë§¨ ì•ì— ìœ„ì¹˜í•œë‹¤.  
5 2 3 1 6  
(7ë²ˆ ì‘ì—…ì€ ìºì‹œì—ì„œ ì‚­ì œëœë‹¤.)  

2) Cache Hit : í•´ì•¼í•  ì‘ì—…ì´ ìºì‹œì— ìˆëŠ” ìƒíƒœë¡œ ìœ„ ìƒíƒœì—ì„œ ë§Œì•½ 3ë²ˆ ì‘ì—…ì„ CPUê°€ ì‚¬ìš©í•œë‹¤ë©´ Cache Hitê°€ ë˜ê³ , 3ë²ˆ ì•ì— ìˆëŠ” 5, 2ë²ˆ ì‘ì—…ì€ í•œ ì¹¸ ë’¤ë¡œ ë°€ë¦¬ê³ , 3ë²ˆì´ ë§¨ ì•ìœ¼ë¡œ ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.  
5 2 3 1 6  
--->  
3 5 2 1 6  

ìºì‹œì˜ í¬ê¸°ê°€ ì£¼ì–´ì§€ê³ , ìºì‹œê°€ ë¹„ì–´ìˆëŠ” ìƒíƒœì—ì„œ Nê°œì˜ ì‘ì—…ì„ CPUê°€ ì°¨ë¡€ë¡œ ì²˜ë¦¬í•œë‹¤ë©´ Nê°œì˜ ì‘ì—…ì„ ì²˜ë¦¬í•œ í›„ ìºì‹œë©”ëª¨ë¦¬ì˜ ìƒíƒœë¥¼ ê°€ì¥ ìµœê·¼ ì‚¬ìš©ëœ ì‘ì—…ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì„¸ìš”. 


```
â–£ ì…ë ¥ì„¤ëª…
ì²« ë²ˆì§¸ ì¤„ì— ìºì‹œì˜ í¬ê¸°ì¸ S(3<=S<=10)ì™€ ì‘ì—…ì˜ ê°œìˆ˜ N(5<=N<=1,000)ì´ ì…ë ¥ëœë‹¤.

ë‘ ë²ˆì§¸ ì¤„ì— Nê°œì˜ ì‘ì—…ë²ˆí˜¸ê°€ ì²˜ë¦¬ìˆœìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤. ì‘ì—…ë²ˆí˜¸ëŠ” 1 ~100 ì´ë‹¤.

â–£ ì¶œë ¥ì„¤ëª…
ë§ˆì§€ë§‰ ì‘ì—… í›„ ìºì‹œë©”ëª¨ë¦¬ì˜ ìƒíƒœë¥¼ ê°€ì¥ ìµœê·¼ ì‚¬ìš©ëœ ì‘ì—…ë¶€í„° ì°¨ë¡€ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤. 

ìºì‹œë©”ëª¨ë¦¬ê°€ ë¹„ì–´ ìˆëŠ” ë¶€ë¶„ì€ 0ìœ¼ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.

â–£ ì…ë ¥ì˜ˆì œ 1 
5 9
1 2 3 2 6 2 3 5 7

â–£ ì¶œë ¥ì˜ˆì œ 1
7 5 3 2 6
```

```
ìºì‹œ ë©”ëª¨ë¦¬ ìƒíƒœ ë³€í™”
1 0 0 0 0
2 1 0 0 0
3 2 1 0 0
2 3 1 0 0
6 2 3 1 0
2 6 3 1 0
3 2 6 1 0
5 3 2 6 1
7 5 3 2 6
```
---

## í’€ì´

ë‚˜ëŠ” CacheHitì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ í’€ì—ˆë‹¤.  

```cpp
bool isCache(int num)
{
	for (int i = 0; i < S; ++i)
	{
		if (cache[i] == num)
		{
			idx = i;
			return true;
		}
	}

	return false;
}
```
ì—¬ê¸°ì„œ cacheì— ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ ë¿ë§Œ ì•„ë‹ˆë¼ ê·¸ ê°’ì˜ ìœ„ì¹˜ê¹Œì§€ ì „ì—­ë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.  

cacheì— ì¡´ì¬í•˜ë©´ ë‹¤ì‹œ ì •ë ¬í•  ë•Œ ì‚½ì…ì •ë ¬ê³¼ ë¹„ìŠ·í•˜ê²Œ ì •ë ¬í•˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ í–ˆë‹¤.  

```cpp
void solve()
{
	int temp;
	for (int i = 0; i < N; ++i)
	{
		cin >> temp;
		if (isCache(temp)) // Cache Hitì¸ ê²½ìš°
		{
			for (int j = idx; j > 0; --j)
			{
				cache[j] = cache[j - 1];
			}
			cache[0] = temp;
		}
		else // Cache Missì¸ ê²½ìš°
		{
			for (int j = S - 1; j > 0; --j)
			{
				cache[j] = cache[j - 1];
			}
			cache[0] = temp;
		}
	}

	for (int i = 0; i < S; ++i)
		cout << cache[i] << " ";
}
```

## ë‚˜ì˜ ì „ì²´ ì½”ë“œ

```cpp
#define _CRT_SECURE_NO_WARNINGS

#include <stdio.h>
#include <string.h>
#include <ctype.h>
#include<iostream>
#include <fstream>
#include <vector>

using namespace std;

int S, N;
vector<int> cache;
int idx;

bool isCache(int num)
{
	for (int i = 0; i < S; ++i)
	{
		if (cache[i] == num)
		{
			idx = i;
			return true;
		}
	}

	return false;
}

void setting()
{
	cin >> S >> N;
	cache = vector<int>(S);
}

void solve()
{
	int temp;
	for (int i = 0; i < N; ++i)
	{
		cin >> temp;
		if (isCache(temp)) // Cache Hitì¸ ê²½ìš°
		{
			for (int j = idx; j > 0; --j)
			{
				cache[j] = cache[j - 1];
			}
			cache[0] = temp;
		}
		else // Cache Missì¸ ê²½ìš°
		{
			for (int j = S - 1; j > 0; --j)
			{
				cache[j] = cache[j - 1];
			}
			cache[0] = temp;
		}
	}

	for (int i = 0; i < S; ++i)
		cout << cache[i] << " ";
}

int main() 
{
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
	//freopen("input.txt", "rt", stdin);

	setting();
	solve();

	return 0;
}
```