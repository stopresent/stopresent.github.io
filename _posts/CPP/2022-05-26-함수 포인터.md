---
title: "C++ Rookiss Part1 C++ ν”„λ΅κ·Έλλ° μ…λ¬Έ : ν•¨μ ν¬μΈν„°"

categories:
  - CPP
tags:
  - CPP

author_profile: false

sidebar:
  nav: "docs"

date: 2022-05-26
last_modified_at: 2022-05-26
---

<br>

## π™‡β€β™€οΈν•¨μ ν¬μΈν„°

ν¬μΈν„°λ” ν¬μΈν„°μΈλ° λ”°λΌκ°€λ³΄λ‹ ν•¨μκ°€ μμ 

`typedef bool(ITEM_SELETOR)(Item*, int);`μ²λΌ λ§λ“¤κ±°λ‚ `bool(*fn)(Item*, int)`μ²λΌ μ‚¬μ©ν•¨




<br>


## πν•¨μ ν¬μΈν„°


```cpp
typedef int DATA;

// 1) ν¬μΈν„°			*
// 2) λ³€μμ΄λ¦„		pointer
// 3) λ°μ΄ν„° νƒ€μ…		int
DATA* pointer = &a;

// ν•¨μ
typedef int (FUNC_TYPE)(int a, int b);
//using FUNC_TYPE = int(int a, int b);

// 1) ν¬μΈν„°			*
// 2) λ³€μ μ΄λ¦„		fn
// 3) λ°μ΄ν„° νƒ€μ…		ν•¨μ (μΈμλ” int, int λ°ν™μ€ int)
FUNC_TYPE* fn;
```

```cpp
// ν•¨μ ν¬μΈν„°
fn = Sub; // ν•¨μλ¥Ό κµμ²΄ν•λ©΄ μ•„λ λ™μ‘μ΄ λ¨λ‘ λ°”λ€λ‹¤

// ν•¨μμ μ΄λ¦„μ€ ν•¨μμ μ‹μ‘ μ£Όμ† (λ°°μ—΄κ³Ό μ μ‚¬)
int result = fn(1, 2); // κΈ°λ³Έ λ¬Έλ²•
cout << result << endl;

result = (*fn)(1, 2); // ν•¨μ ν¬μΈν„°λ” *(μ ‘κ·Ό μ—°μ‚°μ) λ¶™μ—¬λ„ ν•¨μ μ£Όμ†!
cout << result << endl;
```


* ν•¨μ ν¬μΈν„°μ μ‘μ©

```cpp
class Item
{
public:
	Item() : _itemId(0), _rearity(0), _ownerId(0)
	{

	}

public:
	int _itemId; // μ•„μ΄ν…μ„ κµ¬λ¶„ν•κΈ° μ„ν• ID
	int _rearity; // ν¬κ·€λ„
	int _ownerId; // μ†μ§€μ ID
};

typedef bool(ITEM_SELECTOR)(Item* itme, int value);

Item* FindItem(Item items[], int itemCount, ITEM_SELECTOR* selector, int value)
{
	for (int i = 0; i < itemCount; i++)
	{
		Item* item = &items[i];
		if (selector(item, value))
			return item;
	}

	return nullptr;
}

bool IsRareItem(Item* item, int value)
{
	return item->_rearity >= value;
}

bool IsOwnerItem(Item* item, int ownerId)
{
	return item->_ownerId == ownerId;
}


int main()
{

	Item items[10] = {};
	items[3]._rearity = 2; // RARE
	Item* rareItem = FindItem(items, 10, IsRareItem, 2);
	Item* ownerItem = FindItem(items, 10, IsOwnerItem, 100);

	return 0;
}
```

<br>


## πν•¨μ ν¬μΈν„° κ°λ… μ •λ¦¬


```cpp
int Test(int a, int b) // μΌλ°μ μΈ ν•¨μ
{
  cout << "Test" << endl;
  return a + b;
}
```

`typedef int(FUNC_TYPE)(int, int);` `FUNC_TYPE* fn;`λ΅ λ‹¨κ³„λ³„λ΅ λ§λ“¤μ μμ§€λ§ λ°‘μ λ²„μ „μ„ λ°”λ΅ν•λ”κ² μΆ‹μ

`int (*fn)(int, int)`λ΅ ν•¨μ ν¬μΈν„°λ¥Ό λ§λ“ λ‹¤

`fn = Test;`ν•¨μ ν¬μΈν„°μ— ν•¨μλ¥Ό λ„£λ”λ‹¤. `fn = &Test;`λ΅ λ§λ“¤μ μλ‹¤. &λ” μƒλµκ°€λ¥ν•μ§€λ§ μƒλµμ•ν•λ”κ±Έ μ¶”μ²

`fn(1, 2);`λ‚ `(*fn)(1, 2);`μ²λΌ μ‚¬μ©ν•λ‹¤.


* typedef

`typedef int(*PFUNC)(int, int);`ν•¨μ ν¬μΈν„° μ„ μ–Έ

`PFUNC = fn;` `fn = &Test;`λ€μ…


μ„ λ¬Έλ²•μΌλ΅ [μ „μ—­ ν•¨μ / μ •μ  ν•¨μ]λ§ λ‹΄μ„ μ μλ‹¤. (νΈμ¶ κ·μ•½μ΄ λ™μΌν• μ• λ“¤)


<br>


## πλ©¤λ²„ν•¨μ ν¬μΈν„°


`typedef int(Knight::*PMEMFUNC)(int, int);` : λ©¤λ²„ ν•¨μ ν¬μΈν„°

`PMEMFUNC mfn;` `mfn = &Knight::GetHp;`λ΅ λ©¤λ²„ ν•¨μλ¥Ό λ‹΄λ”λ‹¤ &λ” μƒλµν•  μ μ—†λ‹¤.

νΉμ • κ°μ²΄κ°€ μμ–΄μ•Ό ν•¨μλ¥Ό νΈμ¶ ν•  μ μλ‹¤.

<br>

`Knight k1;`μΌλ΅ μ¤νƒμ— ν΄λμ¤λ¥Ό λ“¤κ³ μλ” κ²½μ°

`(k1.*mfn)(1, 1);`λ΅ μ‚¬μ©

<br>

`Knight* k2 = new Knight();`λ΅ ν¬μΈν„°λ΅ λ“¤κ³ μλ” κ²½μ°

`((*k2).*mfn)(1, 1);`λ΅ μ‚¬μ©κ°€λ¥, `(k2->*mfn)(1, 1);`λ΅ μ‚¬μ©κ°€λ¥