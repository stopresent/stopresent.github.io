---
title: "C++ Rookiss Part1 C++ 프로그래밍 입문 : 포인터 실습 복습"

categories:
  - CPP
tags:
  - CPP

author_profile: false

sidebar:
  nav: "docs"

date: 2022-05-18
last_modified_at: 2022-05-18
---

<br>

## 🙇‍♀️포인터 실습 복습


<br>

### 🪐포인터 실습

간략한 TextRPG를 만들어보는 실습

<br>

포인터를 활용하지 않는 함수 : `StatInfo CreatePlayer();`

포인터를 활용하는 함수 : `void CreateMonster(StatInfo* info);`

<br>

* TextRPG

```cpp
#include <iostream>
using namespace std;

// 주제 : 포인터 실습

struct StatInfo
{
	int hp;
	int attack;
	int defence;
};

void EnterLobby();
StatInfo CreatePlayer();
void CreateMonster(StatInfo* info);
// 플레이어 승리시 true, 패배시 false
bool StartBattle(StatInfo* player, StatInfo* monster);

int main()
{
	EnterLobby();

	return 0;
}

void EnterLobby()
{
	cout << "로비에 입장했습니다" << endl;

	StatInfo player;
	player.hp = 0xbbbbbbbb;
	player.attack = 0xbbbbbbbb;
	player.defence = 0xbbbbbbbb;
	player = CreatePlayer();


	StatInfo monster;
	monster.hp = 0xbbbbbbbb;
	monster.attack = 0xbbbbbbbb;
	monster.defence = 0xbbbbbbbb;
	CreateMonster(&monster);

	// 번외편1)
	// 구조체끼리 복사할 때 무슨 일이 발생할까?
	//player = monster; // 내부적으로는 아래 3줄과 동일

	//player.hp = monster.hp;
	//player.attack = monster.attack;
	//player.defence = monster.defence;

	bool flag = StartBattle(&player, &monster);

	if (flag == true)
		cout << "승리!" << endl;
	else if (flag == false)
		cout << "패배!" << endl;

}


StatInfo CreatePlayer()
{
	StatInfo ret;

	cout << "플레이어 생성" << endl;

	ret.hp = 100;
	ret.attack = 10;
	ret.defence = 2;

	return ret;
}

void CreateMonster(StatInfo* info)
{
	cout << "몬스터 생성" << endl;

	info->hp = 40;
	(*info).attack = 8;
	info->defence = 1;

}

bool StartBattle(StatInfo* player, StatInfo* monster)
{
	while (true)
	{
		int damage = player->attack - monster->defence;
		monster->hp -= damage;
		if (monster->hp <= 0)
			return true;

		cout << "몬스터 HP : " << monster->hp << endl;

		damage = monster->attack - player->defence;
		player->hp -= damage;
		if (player->hp <= 0)
			return false;

		cout << "플레이어 HP : " << player->hp << endl;
	}
}
```