---
title: "C++ Rookiss Part1 C++ ν”„λ΅κ·Έλλ° μ…λ¬Έ : νƒ€μ… λ³€ν™(ν¬μΈν„°)"

categories:
  - CPP
tags:
  - CPP

author_profile: false

sidebar:
  nav: "docs"

date: 2022-04-01
last_modified_at: 2022-04-01
---

## π™‡β€β™€οΈνƒ€μ… λ³€ν™ (ν¬μΈν„°)




### πλ³µμµ



```cpp
// Stack [ type(4) dbid(4) dummy(4096) ]
Item item;

// Stack [ μ£Όμ†(4~8) ] -> Heap [ type(4) dbid(4) dummy(4096) ]
Item* item2 = new Item();
```
ν¬μΈν„°λ΅ λ§λ“¤μ–΄μ¤€ κ²ƒμ€ μ£Όμ†κ°’λ§ μκΈ° λ•λ¬Έμ— μ†λ©Έμκ°€ μλ™μΌλ΅ λ§λ“¤μ–΄μ§€μ§€ μ•λ”λ‹¤. `delete`λ¥Ό ν•΄μ¤μ•Ό ν•λ‹¤. ν•΄μ£Όμ§€ μ•μΌλ©΄ λ©”λ¨λ¦¬ λ„μκ°€ μΌμ–΄λ‚λ‹¤.


```cpp
void TestItem(Item item)
{

}

void TestItemPtr(Item* item)
{

}

TestItem(item);
TestItem(*item2);

TestItemPtr(&item);
TestItemPtr(item2);

```
 ν—·κ°λ¦¬μ§€λ§ ν¬μΈν„°λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” ν•¨μμ μ‚¬μ©λ²• μµν€λ‘μ.

`TestItem`μ κ²½μ° λ³µμ‚¬ λλ” ν•¨μμ§€λ§ μƒλ΅μ΄ κ°μ²΄λ¥Ό λ§λ“¤μ–΄ λ‚΄λ” κ²ƒμ€ κ°™κΈ° λ•λ¬Έμ— λ³µμ‚¬ μƒμ„±μκ°€ λ§λ“¤μ–΄μ§„λ‹¤.
`TestItemPtr`μ€ μ›λ³Έμ„ κ·Έλ€λ΅ μ“°λ”κ±° μ΄λ―€λ΅ λ³µμ‚¬ μƒμ„±μκ°€ μ—†λ‹¤.

```cpp
// λ°°μ—΄
{
	cout << "------------------------------" << endl;

	// μ§„μ§ μ•„μ΄ν…μ΄ 100κ° μλ” κ²ƒ (μ¤νƒ λ©”λ¨λ¦¬μ— μ¬λΌμ™€ μλ”)
	Item item3[100] = {  };

	cout << "------------------------------" << endl;

	// μ•„μ΄ν…μ΄ 100κ° μμ„κΉ?
	// μ•„μ΄ν…μ„ κ°€λ¦¬ν‚¤λ” λ°”κµ¬λ‹κ°€ 100κ°. μ‹¤μ  μ•„μ΄ν…μ€ 1κ°λ„ μ—†μ„ μλ„ μμ
	Item* item4[100] = {};

	for (int i = 0; i < 100; i++)
		item4[i] = new Item();

	cout << "------------------------------" << endl;
	
	for (int i = 0; i < 100; i++)
		delete item4[i];

	cout << "------------------------------" << endl;

}
```
`item3`λ” μ‹¤μ λ΅ μ•„μ΄ν…μ΄ μμ§€λ§ `item4`λ” μ£Όμ†κ°€ λ‹΄κΈ΄ λ°”κµ¬λ‹λ§ 100κ°λ‹¤.
`item4`μ— μ•„μ΄ν…μ„ λ„£κΈ° μ„ν•΄μ„ ν•λ‚ν•λ‚ λ™μ ν• λ‹Ήμ„ μ΄μ©ν•΄ λ„£μ–΄μ£Όκ³  `delete`λ„ ν•΄μ¤μ•Ό ν•λ‹¤.



## π™‡β€β™€οΈνƒ€μ… λ³€ν™ (ν¬μΈν„°)


* λ…μ‹μ μΌλ΅ λ³€ν™ ν•  λ•λ” ν•­μƒ μ΅°μ‹¬ν•΄μ•Ό ν•λ‹¤
* μ•”μ‹μ μΌλ΅ λ³€ν™μ΄ κ°€λ¥ν•λ‹¤λ©΄ μ•μ „ν•λ‹¤?
* ν•­μƒ μ•”μ‹μ μΌλ΅λ§ μ‚¬μ©ν•  μ μ—†λ‹¤.

* μƒμ† κ΄€κ³„μ— μμ„ λ• μµμƒμ„ λ¶€λ¨μ μ†λ©Έμλ” virtualμ„ λ¶™μ—¬μ•Όν•λ‹¤.
  - μ›λλ” μμ‹μ νƒ€μ…λ§λ‹¤ deleteλ¥Ό ν•΄μ•Ό ν•λ”λ° virtualμ„ λ¶™μ—¬μ„ κ°€μƒν•¨μλ΅ λ§λ“¤λ©΄ deleteλ¶€λ¨;λ¥Ό ν•΄λ„ μμ‹κΉμ§€ μ•μ•„μ„ deleteλλ‹¤.


**κ²°λ΅ **
1. ν¬μΈν„° vs μΌλ° νƒ€μ… : μ°¨μ΄λ¥Ό μ΄ν•΄ν•μ
2. ν¬μΈν„° μ‚¬μ΄μ νƒ€μ… λ³€ν™(μΊμ¤ν…)μ„ ν•  λ•λ” λ§¤μ° λ§¤μ° μ΅°μ‹¬ν•΄μ•Όν•λ‹¤.
3. λ¶€λ¨-μμ‹ κ΄€κ³„μ—μ„ λ¶€λ¨ ν΄λμ¤μ μ†λ©Έμμ—λ” κΉλ¨Ήμ§€ λ§κ³  virtualμ„ λ¶™μ΄μ!!!!