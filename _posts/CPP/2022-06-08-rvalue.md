---
title: "C++ Rookiss Part1 C++ í”„ë¡œê·¸ë˜ë° ì…ë¬¸ : rvalue"

categories:
  - CPP
tags:
  - CPP

author_profile: false

sidebar:
  nav: "docs"

date: 2022-06-08
last_modified_at: 2022-06-08
---

<br>

## ğŸ™‡â€â™€ï¸rvalue


<br>


## ğŸªrvalue

```cpp
#include <iostream>
using namespace std;

class Pet
{
public:

};


class Knight
{
public:

	Knight()
	{
		cout << "Knight()" << endl;
	}

	~Knight()
	{
		cout << "~Knight()" << endl;

		if (_pet)
			delete _pet;
	}

	// ë³µì‚¬ ìƒì„±ì
	Knight(const Knight& Knight)
	{
		cout << "const Knight&" << endl;
	}

	Knight(Knight&& knight)
	{
		cout << "const Knight&&" << endl;
	}

	// ë³µì‚¬ ëŒ€ì… ì—°ì‚°ì
	void operator=(const Knight& knight)
	{
		cout << "operator=(const Knight&)" << endl;

		// ê¹Šì€ ë³µì‚¬
		_hp = knight._hp;

		if (knight._pet)
			_pet = new Pet(*knight._pet);
	}

	void operator=(Knight&& knight) noexcept
	{
		cout << "operator=(Knight&&)" << endl;

		_hp = knight._hp;

		_pet = knight._pet;
		knight._pet = nullptr;

	}

public:
	int _hp = 100;
	Pet* _pet = nullptr;
};

void TestKnight_Copy(Knight Knight) { }
void TestKnight_LvalueRef(Knight& Knight) { }
void TestKnight_ConstLvalueRef(const Knight& Knight) { }
void TestKnight_RvalueRef(Knight&& Knight) { } // ì´ë™ ëŒ€ìƒ!!

int main()
{


	Knight k1;


	TestKnight_Copy(k1);

	TestKnight_LvalueRef(k1);

	TestKnight_ConstLvalueRef(k1);
	TestKnight_ConstLvalueRef(Knight());

	// TestKnight_RvalueRef(k1); // Lvalueë¥¼ ë„£ì„ ìˆ˜ ì—†ìŒ
	TestKnight_RvalueRef(Knight()); // ì„ì‹œê°ì²´ ì´ë¯€ë¡œ Rvalue, RvalueëŠ” ëŒ€ì… ê°€ëŠ¥


	Knight k2;
	k2._pet = new Pet();
	k2._hp = 1000;


	// ì›ë³¸ì€ ë‚ ë ¤ë„ ëœë‹¤ << ë¼ëŠ” íŒíŠ¸ë¥¼ ì£¼ëŠ” ìª½ì— ê°€ê¹ë‹¤
	Knight k3;
	//k3 = static_cast<Knight&&>(k2);

	k3 = std::move(k2);

}
```

rvalue ì°¸ì¡°ëŠ” ì´ë™ ê°œë…ì´ í¬ë‹¤!